<!-- Mirrored from www.multipurposethemes.com/admin/eduadmin-template/front-end/mydashboard.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 23 Nov 2020 08:29:37 GMT -->

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="https://www.multipurposethemes.com/admin/eduadmin-template/images/favicon.ico">

    <title>EduAdmin - Dashboard</title>

    <!-- Vendors Style-->
    <link rel="stylesheet" href="/Template/css/vendors_css.css">
    <link href="/Studtable/style.bundled1cf.css" rel="stylesheet" type="text/css" />

    <!-- Style-->
    <link rel="stylesheet" href="/Template/css/style.css">

</head>

<body class="theme-primary">
    <section style="margin-top: -500px;" class="py-50">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 col-md-8 mt-3 col-12">
                    <div class="box">
                        <div class="box-body">
                            <div class="tab-content" id="pills-tabContent23">
                                <div class="tab-pane fade show active" id="pills-edit" role="tabpanel"
                                    aria-labelledby="pills-edit-tab">
                                    <div class="row">
                                        <div class="col-12">
                                            <form class="form">
                                                <div>
                                                    <h4 class="box-title text-primary"><i
                                                            class="ti-user mr-15"></i>Profile</h4>
                                                    <hr class="my-15">
                                                    <div class="row">
                                                        <div class="col-md-12">

                                                            <div class="form-group">
                                                                <label>Name</label>
                                                                <input type="text" class="form-control"
                                                                    placeholder="No Name Provided" value="{{stud.Name}}"
                                                                    disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label>Gender</label>
                                                                <input type="text" class="form-control"
                                                                    placeholder="No Gender Provided" disabled
                                                                    value="{{stud.Gender}}">
                                                            </div>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label>Roll No</label>
                                                                <input type="number" class="form-control"
                                                                    placeholder="No Roll No Provided" disabled
                                                                    value="{{stud.Rollno}}">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Phone No</label>
                                                        <input class="form-control" type="tel"
                                                            placeholder="No Phone number Provided" disabled
                                                            value="{{stud.Phone}}">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Address</label>
                                                        <input class="form-control" type="text"
                                                            placeholder="No Address Provided" disabled
                                                            value="{{stud.Address}}">
                                                    </div>
                                                    <div class="form-group">
                                                        <label>Email</label>
                                                        <input class="form-control" type="text"
                                                            placeholder="No email Provided" disabled
                                                            value="{{stud.Email}}">
                                                    </div>
                                                    <hr class="my-15">
                                                </div>
                                            </form>
                                            <center><button onclick="attendance('{{stud._id}}')"
                                                    class="btn btn-success">Present</button></center>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <div class="d-flex flex-column flex-root">

        <div class="d-flex flex-row flex-column-fluid page">

            <div class="d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <center>
                    <h1 style="margin-top: -20px;">Attendance</h1>
                </center>
                <div class="content d-flex flex-column flex-column-fluid" id="kt_content">

                    <div class="d-flex flex-column-fluid">
                        <!--begin::Container-->

                        <div class="container">


                            <div class="card card-custom">
                                <div class="card-body">
                                    <!--begin: Datatable-->
                                    <table class="table table-bordered table-hover table-checkable " id="kt_datatable">
                                        <thead>

                                            <tr>
                                                <th>
                                                    <center>Date</center>
                                                </th>
                                                <th>
                                                    <center>Attendance</center>
                                                </th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each attendance}}
                                            <tr>
                                                <td>
                                                    <center>{{this.attendate}}</center>
                                                </td>
                                                <td>
                                                    <center>{{this.status}}</center>
                                                </td>

                                            </tr>
                                            {{/each}}
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="d-flex flex-column flex-root">

        <div class="d-flex flex-row flex-column-fluid page">

            <div class="d-flex flex-column flex-row-fluid" id="kt_wrapper">
                <center>
                    <h1 style="margin-top: -20px;">ASSIGNMENTS</h1>
                </center>
                <div class="content d-flex flex-column flex-column-fluid" id="kt_content">

                    <div class="d-flex flex-column-fluid">
                        <!--begin::Container-->

                        <div class="container">


                            <div class="card card-custom">
                                <div class="card-body">
                                    <!--begin: Datatable-->
                                    <table class=" table-bordered table-hover table-checkable "
                                        style="width: 100%; table-layout: fixed;">
                                        <thead style="line-height: 50px;">

                                            <tr>
                                                <th>
                                                    <center>Topic</center>
                                                </th>
                                                <th>
                                                    <center>File</center>
                                                </th>
                                                <th>
                                                    <center>Mark</center>
                                                </th>

                                            </tr>
                                        </thead>
                                        <tbody>
                                            {{#each assignments}}
                                            <tr>
                                                <td>
                                                    <center>{{this.topic.Topic}}</center>
                                                </td>
                                                <td>
                                                    <a href="/studentAssignment/{{this.assignments.assignment}}.pdf ">
                                                        <center><img style="height: 50px; width: auto;"
                                                                src="/Notes/open-document.png" alt="W3Schools"
                                                                width="104" height="142"><br><small>Click to download
                                                                the file</small></center>
                                                </td>
                                                <td>

                                                    <center>
                                                        <input type="number" min="0" max="20"
                                                            class="text-center form-control" name="Mark"
                                                            value="{{this.assignments.mark}}" placeholder="? / 20"
                                                            id="{{this._id}}">
                                                    </center>
                                                    <br>
                                                    <center> <button style="margin-top: -10px; margin-bottom: 10px;"
                                                            type="submit" class="btn btn-success"
                                                            onclick="marks('{{this._id}}','{{../stud._id}}')">
                                                            Submit
                                                        </button></center>

                                                </td>

                                            </tr>
                                            {{/each}}
                                            <style>
                                                input::-webkit-outer-spin-button,
                                                input::-webkit-inner-spin-button {
                                                    -webkit-appearance: none;
                                                    margin: 0;
                                                }
                                            </style>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

</body>
<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script>

    function marks(assignid, studid) {
        var mark = document.getElementById(assignid).value;
        if (parseInt(mark) <= 20 && parseInt(mark) >= 0) {
            $.ajax({
                url: '/tutor/marks',
                method: 'post',
                data: {
                    Mark: mark,
                    Assign: assignid,
                    Stud: studid
                },
                success: (response) => {
                    swal("Marks submitted", +response + "/20", "success");

                }
            })
        } else {
            swal(mark + "/20 ?", "Marks must be less than or equal to 20", "error");

        }
    }
    function attendance(studId) {
        if (new Date().getDay() == 0) {
            swal("HOLIDAY", "Today is a holiday", "error");
        } else {
            $.ajax({
                url: '/tutor/manualattend',
                data: {
                    studId: studId
                },
                method: 'post',
                success: (response) => {
                    if (response.status) {
                        swal("Attendance Recorded!", "", "success");
                    } else {
                        swal("Attendance Not Recorded!", response, "error");
                    }
                }
            })
        }
    }
</script>
<script src="/Template/js/vendors.min.js"></script>
<!-- Corenav Master JavaScript -->
<script src="/Template/corenav-master/coreNavigation-1.1.3.js"></script>
<script src="/Template/vendor_components/jquery-ui/jquery-ui.min.js"></script>

<!-- EduAdmin front end -->